<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/comme_prevu.jpg" alt="">
            <img class="img_2" src="img/comme_prevu.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/dans_la_savane.jpg" alt="">
            <img class="img_2" src="img/dans_la_savane.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/jvlivs.jpg" alt="">
            <img class="img_2" src="img/jvlivs.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/dll.jpeg" alt="">
            <img class="img_2" src="img/dll.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/kekra_land.jpg" alt="">
            <img class="img_2" src="img/kekra_land.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/deux_frere.png" alt="">
            <img class="img_2" src="img/deux_frere.png" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/kmt.jpeg" alt="">
            <img class="img_2" src="img/kmt.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/nqnt33.jpg" alt="">
            <img class="img_2" src="img/nqnt33.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/lmc.jpg" alt="">
            <img class="img_2" src="img/lmc.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/jefe.jpeg" alt="">
            <img class="img_2" src="img/jefe.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/on_ira_ou.jpg" alt="">
            <img class="img_2" src="img/on_ira_ou.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/melo.jpeg" alt="">
            <img class="img_2" src="img/melo.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/svr.jpeg" alt="">
            <img class="img_2" src="img/svr.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/faith.jpeg" alt="">
            <img class="img_2" src="img/faith.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/culture_2.jpeg" alt="">
            <img class="img_2" src="img/culture_2.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/position.jpg" alt="">
            <img class="img_2" src="img/position.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/lmf.jpeg" alt="">
            <img class="img_2" src="img/lmf.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/sweetener.jpeg" alt="">
            <img class="img_2" src="img/sweetener.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/astroworld.jpeg" alt="">
            <img class="img_2" src="img/astroworld.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/trinity.jpeg" alt="">
            <img class="img_2" src="img/trinity.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/etrange_histoire.jpeg" alt="">
            <img class="img_2" src="img/etrange_histoire.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/destin.jpeg" alt="">
            <img class="img_2" src="img/destin.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/drill_fr.jpeg" alt="">
            <img class="img_2" src="img/drill_fr.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/a7.jpg" alt="">
            <img class="img_2" src="img/a7.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/jvlivs_2.jpeg" alt="">
            <img class="img_2" src="img/jvlivs_2.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/ipseite.jpg" alt="">
            <img class="img_2" src="img/ipseite.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/qlf.jpg" alt="">
            <img class="img_2" src="img/qlf.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/kekra.png" alt="">
            <img class="img_2" src="img/kekra.png" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/expensive_pain.jpeg" alt="">
            <img class="img_2" src="img/expensive_pain.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/the_end.jpg" alt="">
            <img class="img_2" src="img/the_end.jpg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/akimbo.jpeg" alt="">
            <img class="img_2" src="img/akimbo.jpeg" alt="">
        </div>
    </div>
    <div class="container">
        <div class="img_1_2">
            <img class="img_1" src="img/mils_3.jpeg" alt="">
            <img class="img_2" src="img/mils_3.jpeg" alt="">
        </div>
    </div>
    <script>
    function getColor(imageElem, ratio){
        const canvas = document.createElement('canvas');

        let width = canvas.width = imageElem.width;
        let height = canvas.height = imageElem.height;

        const context = canvas.getContext('2d');
        context.drawImage(imageElem,0,0);

        let data, length;
        let i = -4, count = 0;

        try{
            data = context.getImageData(0,0,width,height);
            length = data.data.length
        }
        catch(err){
            console.error(err)
            return{
                R : 0,
                G : 0,
                B : 0
            }
        }
        let R, G, B;
        R = G = B = 0
        while((i += ratio * 4) < length){
            ++ count

            R += data.data[i]
            G += data.data[i + 1]
            B += data.data[i + 2]
        }

        R = ~~(R / count)
        G = ~~(G / count)
        B = ~~(B / count)

        return{
            R,
            G,
            B
        }
    }

    const background = document.querySelectorAll(".container")
    const image = document.querySelectorAll(".img_1")
    for(let i = 0; i < background.length; i++){
        image[i].onload = function(){
            const {R,G,B} = getColor(image[i], 8)
            background[i].style.background = `radial-gradient(rgb(${R},${G},${B}), #fff)`
        }
    }
    </script>
</body>
</html>